<Window x:Class="WisperFlow.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WisperFlow Overlay"
        Width="200" Height="80"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        WindowStartupLocation="Manual">
    
    <Window.Resources>
        <!-- Pulsing animation for recording indicator -->
        <Storyboard x:Key="PulseAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="RecordingDot"
                           Storyboard.TargetProperty="Opacity"
                           From="1" To="0.4" Duration="0:0:0.5"
                           AutoReverse="True"/>
        </Storyboard>
        
        <!-- Spinning animation for transcribing indicator -->
        <Storyboard x:Key="SpinAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="SpinnerRotation"
                           Storyboard.TargetProperty="Angle"
                           From="0" To="360" Duration="0:0:1"/>
        </Storyboard>
    </Window.Resources>
    
    <Border Background="#E61a1f2e" CornerRadius="12" Padding="16,12">
        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="20" Opacity="0.5" ShadowDepth="2"/>
        </Border.Effect>
        
        <Grid>
            <!-- Recording State -->
            <StackPanel x:Name="RecordingPanel" Orientation="Horizontal" Visibility="Collapsed"
                        HorizontalAlignment="Center" VerticalAlignment="Center">
                <Ellipse x:Name="RecordingDot" Width="14" Height="14" Fill="#ff4757" Margin="0,0,10,0"/>
                <TextBlock x:Name="RecordingText" Text="Recording..." 
                           Foreground="White" FontFamily="Segoe UI Semibold" FontSize="14"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="RecordingTime" Text="" 
                           Foreground="#8892b0" FontFamily="Segoe UI" FontSize="12"
                           VerticalAlignment="Center" Margin="10,0,0,0"/>
            </StackPanel>
            
            <!-- Transcribing State -->
            <StackPanel x:Name="TranscribingPanel" Orientation="Horizontal" Visibility="Collapsed"
                        HorizontalAlignment="Center" VerticalAlignment="Center">
                <Grid Width="18" Height="18" Margin="0,0,10,0">
                    <Ellipse Stroke="#00d4aa" StrokeThickness="2" StrokeDashArray="2,2">
                        <Ellipse.RenderTransform>
                            <RotateTransform x:Name="SpinnerRotation" CenterX="9" CenterY="9"/>
                        </Ellipse.RenderTransform>
                    </Ellipse>
                </Grid>
                <TextBlock x:Name="TranscribingText" Text="Transcribing..." 
                           Foreground="White" FontFamily="Segoe UI Semibold" FontSize="14"
                           VerticalAlignment="Center"/>
            </StackPanel>
            
            <!-- Error State -->
            <StackPanel x:Name="ErrorPanel" Orientation="Horizontal" Visibility="Collapsed"
                        HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="âš " Foreground="#ffa502" FontSize="16" Margin="0,0,8,0" 
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="ErrorText" Text="Error" 
                           Foreground="#ffa502" FontFamily="Segoe UI" FontSize="13"
                           VerticalAlignment="Center" TextTrimming="CharacterEllipsis"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>

