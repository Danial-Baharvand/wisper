<Window x:Class="WisperFlow.DictationBar"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WisperFlow"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Focusable="False"
        ShowActivated="False"
        WindowStartupLocation="Manual">
    
    <Window.Resources>
        <!-- Hint bar expand animation -->
        <Storyboard x:Key="HintExpandAnimation">
            <DoubleAnimation Storyboard.TargetName="HintBar" Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetName="HintBarTransform" Storyboard.TargetProperty="Y"
                           From="10" To="0" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Hint bar collapse animation (no From values to prevent flash) -->
        <Storyboard x:Key="HintCollapseAnimation">
            <DoubleAnimation Storyboard.TargetName="HintBar" Storyboard.TargetProperty="Opacity"
                           To="0" Duration="0:0:0.15"/>
            <DoubleAnimation Storyboard.TargetName="HintBarTransform" Storyboard.TargetProperty="Y"
                           To="10" Duration="0:0:0.15"/>
        </Storyboard>
        
        <!-- Transcript bar expand animation (same as hint bar) -->
        <Storyboard x:Key="TranscriptExpandAnimation">
            <DoubleAnimation Storyboard.TargetName="TranscriptBar" Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetName="TranscriptBarTransform" Storyboard.TargetProperty="Y"
                           From="10" To="0" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Transcript bar collapse animation (no From values to prevent flash) -->
        <Storyboard x:Key="TranscriptCollapseAnimation">
            <DoubleAnimation Storyboard.TargetName="TranscriptBar" Storyboard.TargetProperty="Opacity"
                           To="0" Duration="0:0:0.15"/>
            <DoubleAnimation Storyboard.TargetName="TranscriptBarTransform" Storyboard.TargetProperty="Y"
                           To="10" Duration="0:0:0.15"/>
        </Storyboard>
        
        <!-- Warning bar fade in animation -->
        <Storyboard x:Key="WarningFadeInAnimation">
            <DoubleAnimation Storyboard.TargetName="WarningBar" Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetName="WarningBarTransform" Storyboard.TargetProperty="Y"
                           From="10" To="0" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Warning bar fade out animation -->
        <Storyboard x:Key="WarningFadeOutAnimation">
            <DoubleAnimation Storyboard.TargetName="WarningBar" Storyboard.TargetProperty="Opacity"
                           To="0" Duration="0:0:0.5"/>
            <DoubleAnimation Storyboard.TargetName="WarningBarTransform" Storyboard.TargetProperty="Y"
                           To="-5" Duration="0:0:0.5">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Main bar expand animation (for hover/recording - slightly wider than sound waves) -->
        <Storyboard x:Key="MainBarExpandAnimation">
            <DoubleAnimation Storyboard.TargetName="MainBar" Storyboard.TargetProperty="Width"
                           To="100" Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="MainBar" Storyboard.TargetProperty="Height"
                           To="28" Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Main bar contract animation (back to pill) -->
        <Storyboard x:Key="MainBarContractAnimation">
            <DoubleAnimation Storyboard.TargetName="MainBar" Storyboard.TargetProperty="Width"
                           To="70" Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="MainBar" Storyboard.TargetProperty="Height"
                           To="22" Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Provider buttons show animation (right side) -->
        <Storyboard x:Key="ProviderButtonsShowAnimation">
            <DoubleAnimation Storyboard.TargetName="ProviderButtonsPanel" Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetName="ProviderButtonsTransform" Storyboard.TargetProperty="X"
                           From="-20" To="0" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Provider buttons hide animation (right side) -->
        <Storyboard x:Key="ProviderButtonsHideAnimation">
            <DoubleAnimation Storyboard.TargetName="ProviderButtonsPanel" Storyboard.TargetProperty="Opacity"
                           To="0" Duration="0:0:0.15"/>
            <DoubleAnimation Storyboard.TargetName="ProviderButtonsTransform" Storyboard.TargetProperty="X"
                           To="-20" Duration="0:0:0.15"/>
        </Storyboard>
        
        <!-- Left buttons show animation (settings/screenshot) -->
        <Storyboard x:Key="LeftButtonsShowAnimation">
            <DoubleAnimation Storyboard.TargetName="LeftButtonsPanel" Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.2"/>
            <DoubleAnimation Storyboard.TargetName="LeftButtonsTransform" Storyboard.TargetProperty="X"
                           From="20" To="0" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Left buttons hide animation -->
        <Storyboard x:Key="LeftButtonsHideAnimation">
            <DoubleAnimation Storyboard.TargetName="LeftButtonsPanel" Storyboard.TargetProperty="Opacity"
                           To="0" Duration="0:0:0.15"/>
            <DoubleAnimation Storyboard.TargetName="LeftButtonsTransform" Storyboard.TargetProperty="X"
                           To="20" Duration="0:0:0.15"/>
        </Storyboard>
        
        <!-- Provider button style with animated selection state -->
        <Style x:Key="ProviderButtonStyle" TargetType="Border">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="4,0,0,0"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                               To="1.1" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                               To="1.1" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                    <Trigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                               To="1" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                               To="1" Duration="0:0:0.15">
                                    <DoubleAnimation.EasingFunction>
                                        <CubicEase EasingMode="EaseOut"/>
                                    </DoubleAnimation.EasingFunction>
                                </DoubleAnimation>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.ExitActions>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <!-- Icon selection pulse animation (applied programmatically) -->
        <Storyboard x:Key="IconSelectPulseAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                           From="0.6" To="1" Duration="0:0:0.8" AutoReverse="True">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseInOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        
        <!-- Icon bounce animation for selection -->
        <Storyboard x:Key="IconBounceAnimation">
            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                           From="1" To="1.2" Duration="0:0:0.1" AutoReverse="True">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                           From="1" To="1.2" Duration="0:0:0.1" AutoReverse="True">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </Window.Resources>
    
    <Grid x:Name="RootGrid" VerticalAlignment="Bottom" HorizontalAlignment="Center"
          MouseLeftButtonDown="RootGrid_MouseLeftButtonDown"
          MouseMove="RootGrid_MouseMove"
          MouseLeftButtonUp="RootGrid_MouseLeftButtonUp">
        <Grid.RenderTransform>
            <TranslateTransform x:Name="DragTransform" X="0" Y="0"/>
        </Grid.RenderTransform>
        <StackPanel VerticalAlignment="Bottom">
            
            <!-- Warning Bar (separate layer, appears above transcript) -->
            <Border x:Name="WarningBar" 
                    Background="#F0ffa502" 
                    CornerRadius="8" 
                    Padding="16,8"
                    Margin="0,0,0,4"
                    Opacity="0"
                    Visibility="Collapsed"
                    HorizontalAlignment="Center">
                <Border.RenderTransform>
                    <TranslateTransform x:Name="WarningBarTransform" Y="10"/>
                </Border.RenderTransform>
                <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="12" Opacity="0.3" ShadowDepth="1"/>
                </Border.Effect>
                
                <TextBlock x:Name="WarningText" 
                           Text="" 
                           Foreground="#1a1a2e" 
                           FontFamily="Segoe UI Semibold" 
                           FontSize="12"
                           HorizontalAlignment="Center"/>
            </Border>
            
            <!-- Info Bar Container - overlays HintBar, TranscriptBar at same position -->
            <Grid Margin="0,0,0,4" HorizontalAlignment="Center">
                <!-- Transcript Bar - ClipToBounds ensures content doesn't overflow rounded corners -->
                <Border x:Name="TranscriptBar" 
                        Background="#F0121820" 
                        CornerRadius="8" 
                        Padding="16,8"
                        Opacity="0"
                        Visibility="Collapsed"
                        MaxHeight="280"
                        ClipToBounds="True"
                        HorizontalAlignment="Center">
                    <Border.RenderTransform>
                        <TranslateTransform x:Name="TranscriptBarTransform" Y="10"/>
                    </Border.RenderTransform>
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" Opacity="0.3" ShadowDepth="1"/>
                    </Border.Effect>
                    
                    <!-- ScrollViewer - Hidden scrollbar to prevent layout jitter, but still scrollable -->
                    <ScrollViewer x:Name="TranscriptScrollViewer"
                                  VerticalScrollBarVisibility="Hidden"
                                  HorizontalScrollBarVisibility="Disabled">
                        <!-- TextBlock with inline cursor - same font as hint bar -->
                        <TextBlock x:Name="TranscriptText" 
                                   Foreground="#8892b0" 
                                   FontFamily="Segoe UI" 
                                   FontSize="12"
                                   FontWeight="Normal"
                                   TextWrapping="Wrap"
                                   MaxWidth="600"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Top">
                            <Run x:Name="TranscriptRun" Text=""/>
                            <InlineUIContainer x:Name="CursorContainer" BaselineAlignment="Center">
                                <Border x:Name="TypingCursor" 
                                        Width="2" Height="14" 
                                        Background="#ff6b9d" 
                                        CornerRadius="1"
                                        Visibility="Collapsed"
                                        Margin="1,0,0,0"/>
                            </InlineUIContainer>
                        </TextBlock>
                    </ScrollViewer>
                </Border>
                
                <!-- Hint Bar (shows on hover) - same position as transcript -->
                <Border x:Name="HintBar" 
                        Background="#F0121820" 
                        CornerRadius="8" 
                        Padding="16,8"
                        Opacity="0"
                        HorizontalAlignment="Center">
                    <Border.RenderTransform>
                        <TranslateTransform x:Name="HintBarTransform" Y="10"/>
                    </Border.RenderTransform>
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="12" Opacity="0.3" ShadowDepth="1"/>
                    </Border.Effect>
                    
                    <TextBlock x:Name="HintText" HorizontalAlignment="Center">
                        <Run Text="Click or hold " Foreground="#8892b0" FontFamily="Segoe UI" FontSize="12"/>
                        <Run x:Name="HotkeyText" Text="caps" Foreground="#ff6b9d" FontFamily="Segoe UI Semibold" FontSize="12"/>
                        <Run Text=" to start dictating" Foreground="#8892b0" FontFamily="Segoe UI" FontSize="12"/>
                    </TextBlock>
                </Border>
            </Grid>
            
            <!-- Main bar and buttons container -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,8">
                
                <!-- Left Side Buttons (Settings, Screenshot) - fade in when hovered -->
                <StackPanel x:Name="LeftButtonsPanel" 
                            Orientation="Horizontal" 
                            VerticalAlignment="Center"
                            Opacity="0">
                    <StackPanel.RenderTransform>
                        <TranslateTransform x:Name="LeftButtonsTransform" X="20"/>
                    </StackPanel.RenderTransform>
                    
                    <!-- Settings Button with Modern Gear Icon -->
                    <Border x:Name="SettingsButton" 
                            Style="{StaticResource ProviderButtonStyle}"
                            Background="#E6121820"
                            ToolTip="Settings"
                            Margin="0,0,4,0"
                            MouseLeftButtonDown="SettingsButton_Click">
                        <Border.Effect>
                            <DropShadowEffect Color="#8892b0" BlurRadius="6" Opacity="0.2" ShadowDepth="0"/>
                        </Border.Effect>
                        <Grid>
                            <!-- Gradient background circle -->
                            <Ellipse Width="24" Height="24">
                                <Ellipse.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#4a5568" Offset="0"/>
                                        <GradientStop Color="#2d3748" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <!-- Gear icon path -->
                            <Viewbox Width="14" Height="14" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path Fill="#e2e8f0" Data="M8,2 L9,4 L11,4 L12,2 L14,4 L12,6 L13,8 L14,8 L14,10 L12,10 L11,12 L12,14 L10,14 L8,12 L6,14 L4,14 L5,12 L4,10 L2,10 L2,8 L4,8 L4,6 L2,4 L4,2 L6,4 L8,2 Z M8,5 A3,3 0 1,0 8,11 A3,3 0 1,0 8,5"/>
                            </Viewbox>
                        </Grid>
                    </Border>
                    
                    <!-- Screenshot Context Button with Camera Icon -->
                    <Border x:Name="ScreenshotButton" 
                            Style="{StaticResource ProviderButtonStyle}"
                            Background="#E6121820"
                            ToolTip="Screenshot Context"
                            Margin="0,0,4,0"
                            MouseLeftButtonDown="ScreenshotButton_Click">
                        <Border.Effect>
                            <DropShadowEffect x:Name="ScreenshotGlow" Color="#9f7aea" BlurRadius="6" Opacity="0" ShadowDepth="0"/>
                        </Border.Effect>
                        <Grid>
                            <!-- Selection ring for active state -->
                            <Ellipse x:Name="ScreenshotRing" 
                                     Width="30" Height="30"
                                     StrokeThickness="2"
                                     Opacity="0">
                                <Ellipse.Stroke>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#9f7aea" Offset="0"/>
                                        <GradientStop Color="#667eea" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Stroke>
                            </Ellipse>
                            <!-- Gradient background circle -->
                            <Ellipse x:Name="ScreenshotIndicator" Width="24" Height="24">
                                <Ellipse.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#4a5568" Offset="0"/>
                                        <GradientStop Color="#2d3748" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <!-- Camera icon path -->
                            <Viewbox Width="14" Height="14" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path x:Name="ScreenshotIconPath" Fill="#9ca3af" Data="M4,4 L6,2 L10,2 L12,4 L14,4 L14,12 L2,12 L2,4 Z M8,5 A2.5,2.5 0 1,0 8,10 A2.5,2.5 0 1,0 8,5"/>
                            </Viewbox>
                        </Grid>
                    </Border>
                </StackPanel>
                
                <!-- Main Voice Bar (always visible) - pill shape when idle, expands on hover/recording -->
                <Border x:Name="MainBar" 
                        Background="#E6121820" 
                        CornerRadius="11"
                        Width="70" Height="22"
                        Cursor="Hand">
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="8" Opacity="0.25" ShadowDepth="1"/>
                    </Border.Effect>
                    
                    <!-- Voice wave bars container - animated by code based on audio level -->
                    <StackPanel x:Name="VoiceBarsPanel" 
                                Orientation="Horizontal" 
                                HorizontalAlignment="Center" 
                                VerticalAlignment="Center">
                        <Rectangle x:Name="Bar1" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar2" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar3" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar4" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar5" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar6" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar7" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar8" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                        <Rectangle x:Name="Bar9" Width="3" Height="4" Fill="#6b7280" RadiusX="1.5" RadiusY="1.5" Margin="2,0" VerticalAlignment="Center"/>
                    </StackPanel>
                </Border>
                
                <!-- AI Provider Buttons (fade in when hovered) -->
                <StackPanel x:Name="ProviderButtonsPanel" 
                            Orientation="Horizontal" 
                            VerticalAlignment="Center"
                            Opacity="0">
                    <StackPanel.RenderTransform>
                        <TranslateTransform x:Name="ProviderButtonsTransform" X="-20"/>
                    </StackPanel.RenderTransform>
                    
                    <!-- ChatGPT Button with Official OpenAI-style Icon -->
                    <Border x:Name="ChatGPTButton" 
                            Style="{StaticResource ProviderButtonStyle}"
                            Background="#E6121820"
                            ToolTip="ChatGPT"
                            MouseLeftButtonDown="ChatGPTButton_Click">
                        <Border.Effect>
                            <DropShadowEffect x:Name="ChatGPTGlow" Color="#10a37f" BlurRadius="8" Opacity="0" ShadowDepth="0"/>
                        </Border.Effect>
                        <Grid>
                            <!-- Animated selection ring (outer glow) -->
                            <Ellipse x:Name="ChatGPTRing" 
                                     Width="30" Height="30"
                                     StrokeThickness="2"
                                     Opacity="0">
                                <Ellipse.Stroke>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#10a37f" Offset="0"/>
                                        <GradientStop Color="#1ed29d" Offset="0.5"/>
                                        <GradientStop Color="#10a37f" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Stroke>
                            </Ellipse>
                            <!-- Icon background with gradient -->
                            <Ellipse x:Name="ChatGPTIndicator" 
                                     Width="24" Height="24">
                                <Ellipse.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#10a37f" Offset="0"/>
                                        <GradientStop Color="#0d8c6b" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <!-- OpenAI hexagonal flower icon -->
                            <Viewbox Width="12" Height="12" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Canvas Width="24" Height="24">
                                    <!-- Simplified OpenAI logo - hexagonal flower pattern -->
                                    <Path Fill="White" Data="M12,1 L15,5 L20,5 L18,10 L21,15 L16,16 L14,21 L10,17 L5,19 L6,14 L1,11 L6,8 L6,3 L11,5 Z"/>
                                </Canvas>
                            </Viewbox>
                        </Grid>
                    </Border>
                    
                    <!-- Gemini Button with Google-style gradient Icon -->
                    <Border x:Name="GeminiButton" 
                            Style="{StaticResource ProviderButtonStyle}"
                            Background="#E6121820"
                            ToolTip="Gemini"
                            MouseLeftButtonDown="GeminiButton_Click">
                        <Border.Effect>
                            <DropShadowEffect x:Name="GeminiGlow" Color="#4285f4" BlurRadius="8" Opacity="0" ShadowDepth="0"/>
                        </Border.Effect>
                        <Grid>
                            <!-- Animated selection ring -->
                            <Ellipse x:Name="GeminiRing" 
                                     Width="30" Height="30"
                                     StrokeThickness="2"
                                     Opacity="0">
                                <Ellipse.Stroke>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#4285f4" Offset="0"/>
                                        <GradientStop Color="#ea4335" Offset="0.25"/>
                                        <GradientStop Color="#fbbc05" Offset="0.5"/>
                                        <GradientStop Color="#34a853" Offset="0.75"/>
                                        <GradientStop Color="#4285f4" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Stroke>
                            </Ellipse>
                            <!-- Multi-color gradient background -->
                            <Ellipse x:Name="GeminiIndicator" 
                                     Width="24" Height="24">
                                <Ellipse.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#4285f4" Offset="0"/>
                                        <GradientStop Color="#9b72cb" Offset="0.5"/>
                                        <GradientStop Color="#d96570" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <!-- Gemini sparkle star icon -->
                            <Viewbox Width="12" Height="12" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Canvas Width="16" Height="16">
                                    <!-- 4-point sparkle star -->
                                    <Path Fill="White" Data="M8,0 C8,4 10,6 14,8 C10,10 8,12 8,16 C8,12 6,10 2,8 C6,6 8,4 8,0 Z"/>
                                </Canvas>
                            </Viewbox>
                        </Grid>
                    </Border>
                    
                    <!-- Notion Button with Official-style Icon -->
                    <Border x:Name="NotionButton" 
                            Style="{StaticResource ProviderButtonStyle}"
                            Background="#E6121820"
                            ToolTip="Notion"
                            MouseLeftButtonDown="NotionButton_Click">
                        <Border.Effect>
                            <DropShadowEffect x:Name="NotionGlow" Color="#FFFFFF" BlurRadius="8" Opacity="0" ShadowDepth="0"/>
                        </Border.Effect>
                        <Grid>
                            <!-- Animated selection ring -->
                            <Ellipse x:Name="NotionRing" 
                                     Width="30" Height="30"
                                     StrokeThickness="2"
                                     Opacity="0">
                                <Ellipse.Stroke>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#FFFFFF" Offset="0"/>
                                        <GradientStop Color="#b3b3b3" Offset="0.5"/>
                                        <GradientStop Color="#FFFFFF" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Stroke>
                            </Ellipse>
                            <!-- Notion-style rounded square background -->
                            <Border x:Name="NotionIndicator" 
                                    Width="22" Height="22" 
                                    CornerRadius="5"
                                    HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#FFFFFF" Offset="0"/>
                                        <GradientStop Color="#e0e0e0" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                            </Border>
                            <!-- Notion page icon -->
                            <Viewbox Width="14" Height="14" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path Fill="#191919" Data="M4,2 L12,2 L14,4 L14,14 L4,14 Z M6,5 L12,5 M6,7 L12,7 M6,9 L10,9" 
                                      StrokeThickness="1" Stroke="#191919"/>
                            </Viewbox>
                        </Grid>
                    </Border>
                    
                    <!-- Google Tasks Button with Official-style Icon -->
                    <Border x:Name="GoogleTasksButton" 
                            Style="{StaticResource ProviderButtonStyle}"
                            Background="#E6121820"
                            ToolTip="Google Tasks"
                            MouseLeftButtonDown="GoogleTasksButton_Click">
                        <Border.Effect>
                            <DropShadowEffect x:Name="GoogleTasksGlow" Color="#4285F4" BlurRadius="8" Opacity="0" ShadowDepth="0"/>
                        </Border.Effect>
                        <Grid>
                            <!-- Animated selection ring -->
                            <Ellipse x:Name="GoogleTasksRing" 
                                     Width="30" Height="30"
                                     StrokeThickness="2"
                                     Opacity="0">
                                <Ellipse.Stroke>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#4285F4" Offset="0"/>
                                        <GradientStop Color="#5e9cf5" Offset="0.5"/>
                                        <GradientStop Color="#4285F4" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Stroke>
                            </Ellipse>
                            <!-- Google blue gradient circle -->
                            <Ellipse x:Name="GoogleTasksIndicator" 
                                     Width="24" Height="24">
                                <Ellipse.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#4285F4" Offset="0"/>
                                        <GradientStop Color="#1a73e8" Offset="1"/>
                                    </LinearGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <!-- Checkmark icon -->
                            <Viewbox Width="12" Height="12" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <Path Stroke="White" StrokeThickness="2.5" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                      Data="M3,8 L7,12 L13,4"/>
                            </Viewbox>
                        </Grid>
                    </Border>
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>
